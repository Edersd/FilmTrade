{"version":3,"sources":["../../src/pages/modal-extra-hour-work/modal-extra-hour-work.module.ts","../../src/pages/modal-extra-hour-work/modal-extra-hour-work.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModalExtraHourWorkPage } from './modal-extra-hour-work';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModalExtraHourWorkPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ModalExtraHourWorkPage),\r\n  ],\r\n})\r\nexport class ModalExtraHourWorkPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-extra-hour-work/modal-extra-hour-work.module.ts","import { ViewController, ToastController } from 'ionic-angular';\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\n//provider\r\nimport { ConfigProvider } from '../../providers/config/config';\r\nimport { AccountProvider } from '../../providers/account/account';\r\n//Modals\r\nimport { Modal, ModalController, ModalOptions } from 'ionic-angular';\r\n\r\nexport interface DataSend{\r\n  id_hire?:number,\r\n  id_work?:number,\r\n  id_proyecto?:number,\r\n  tipo_paquete?:number,\r\n  costo?:number,\r\n  nombre?:string,\r\n  foto?:string,\r\n  hora?:string,\r\n  fecha_trabajo?:string,\r\n  hora_extra?: number,\r\n  hora_extra_new?: number,\r\n  total?: number,\r\n  basic?:number,\r\n  gold?: number,\r\n  premium?:number,\r\n  costo_extra?:number\r\n}\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-modal-extra-hour-work',\r\n  templateUrl: 'modal-extra-hour-work.html',\r\n})\r\nexport class ModalExtraHourWorkPage {\r\n  public dataModalHire: any = [{}];\r\n  public dataModalWork: any = [{}];\r\n  public dataSend: DataSend = {};\r\n  public user = \"\";\r\n  public estatus = \"\";\r\n  public costExtra: number;\r\n  public total: number;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, private accountProv: AccountProvider, private toastCtrl: ToastController, public modalCtrl: ModalController ) {\r\n    this.dataModalHire = this.navParams.get('data_hire');\r\n    this.dataModalWork = this.navParams.get('data_work');\r\n    this.user = this.navParams.get('user');\r\n    this.estatus = this.navParams.get('estatus');\r\n    console.log(this.dataModalHire, this.dataModalWork, this.user, this.estatus);\r\n\r\n    if (this.dataModalWork.tipo_paquete === 'Basic') {\r\n      this.costExtra = Number(this.dataModalWork.basic) * Number(0.10);\r\n      this.total = Number(this.dataModalWork.costo) + Number(this.costExtra);\r\n      console.log('Extra1:', this.costExtra, '--- Total: ', this.total)\r\n    }\r\n    if (this.dataModalWork.tipo_paquete === 'Gold') {\r\n      this.costExtra = Number(this.dataModalWork.gold) * Number(0.10);\r\n      this.total = Number(this.dataModalWork.costo) + Number(this.costExtra);\r\n      console.log('Extra2:', this.costExtra, '--- Total: ', this.total)\r\n    }\r\n    if (this.dataModalWork.tipo_paquete === 'Premium') {\r\n      this.costExtra = Number(this.dataModalWork.premium) * Number(0.10);\r\n      this.total = Number(this.dataModalWork.costo) + Number(this.costExtra);\r\n      console.log('Extra3:', this.costExtra, '--- Total: ', this.total)\r\n    }\r\n  }\r\n\r\n  ionViewWillLoad() {\r\n    console.log('ionViewDidLoad ModalExtraHourWorkPage');\r\n  }\r\n\r\n  close() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  public acceptHour(): void {\r\n    this.accountProv.aceptarHora({ id_pro: this.dataModalHire.id_proyecto, id_work: this.dataModalHire.id_user_contratado, cost: this.total}).subscribe(data => {\r\n      const toast = this.toastCtrl.create({\r\n        message: 'Hour acepted',\r\n        duration: 3000\r\n      });\r\n      toast.present();\r\n      this.viewCtrl.dismiss();\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  public declineHour(): void {\r\n    let noExtra: number = this.dataModalHire.hora_extra - 1;\r\n    console.log('No quiere',noExtra)\r\n    this.accountProv.declinarHora({ id_pro: this.dataModalHire.id_proyecto, id_work: this.dataModalHire.id_user_contratado, hora: noExtra }).subscribe(data => {\r\n      const toast = this.toastCtrl.create({\r\n        message: 'Hour declined',\r\n        duration: 3000\r\n      });\r\n      toast.present();\r\n      this.viewCtrl.dismiss();\r\n    }, error => console.error(error));\r\n    \r\n    this.dataSend = this.dataModalWork;\r\n    this.dataSend.nombre = this.dataModalHire.nombre;\r\n    this.dataSend.foto = this.dataModalHire.foto;\r\n    this.dataSend.id_hire = this.dataModalHire.id;\r\n    this.dataSend.id_work = this.dataModalHire.id_user_contratado;\r\n\r\n    const toast = this.toastCtrl.create({\r\n      message: 'Extra time declined',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n    this.viewCtrl.dismiss();\r\n    const myModalOptions: ModalOptions = {\r\n      enableBackdropDismiss: false,\r\n      showBackdrop: false,\r\n      cssClass: 'my-modal-inner'\r\n    };\r\n    const modal: Modal = this.modalCtrl.create('ModalCompletedWorkPage', { data_hire: this.dataModalHire, data_work: this.dataSend, user: 2 }, myModalOptions);\r\n    modal.present();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modal-extra-hour-work/modal-extra-hour-work.ts"],"sourceRoot":""}